<div class="gradient-custom min-vh-100 p-4 mt-5">
    <div class="background-glass p-4">
        <h2 class="system-title mb-4">Gerenciar Usuário</h2>

        <form (ngSubmit)="salvarUsuario()">
            <div class="mb-3">
                <label for="cpf" class="form-label">CPF:</label>
                <input id="cpf" type="text" class="form-control" [(ngModel)]="usuario.cpf" name="cpf"
                    mask="000.000.000-00" required autocomplete="off" [disabled]="isEditMode">
            </div>

            <div class="mb-3">
                <label for="nomeCompleto" class="form-label">NOME COMPLETO</label>
                <input id="nomeCompleto" type="text" class="form-control" [(ngModel)]="usuario.nome" name="nome"
                    required>
            </div>

            <div class="mb-3">
                <label for="dataNascimento" class="form-label">DATA DE NASCIMENTO</label>
                <input id="dataNascimento" type="date" class="form-control" [(ngModel)]="usuario.dataNascimento"
                    name="dataNascimento" required>
            </div>

            <div class="mb-3">
                <label for="matricula" class="form-label">MATRÍCULA</label>
                <input id="matricula" type="text" class="form-control" [(ngModel)]="usuario.matricula" name="matricula"
                    required>
            </div>

            <div class="mb-3">
                <label for="setor" class="form-label">SETOR</label>
                <input id="setor" type="text" class="form-control" [(ngModel)]="usuario.setor" name="setor">
            </div>

            <div class="mb-4">
                <label for="biometria" class="form-label">BIOMETRIA</label>
                <div class="d-flex gap-2">
                    <input id="biometria" type="text" class="form-control shadow-sm border-0"
                        [(ngModel)]="usuario.biometriaHash" name="biometria" readonly autocomplete="off"
                        placeholder="Hash da biometria">
                    <button type="button" class="btn btn-primary btn-sm rounded-pill shadow-sm flex-fill btn-biotoken"
                        (click)="obterBiometria()">
                        <i class="bi bi-fingerprint"></i> Obter biometria
                    </button>
                </div>
            </div>

            <div class="actions-container d-flex gap-2">
                <!-- O botão de submit agora exibe "Atualizar" ou "Cadastrar" dependendo do modo -->
                <button type="submit" class="btn btn-primary btn-sm rounded-pill shadow-sm flex-fill">
                    <i class="bi bi-person-plus"></i> {{ isEditMode ? 'Atualizar' : 'Cadastrar' }}
                </button>
                <!-- O botão de remover é exibido apenas no modo de edição -->
                <button *ngIf="isEditMode" type="button"
                    class="btn btn-danger btn-sm rounded-pill shadow-sm flex-fill" (click)="remover()">
                    <i class="bi bi-trash"></i> Remover
                </button>
            </div>
        </form>
    </div>
</div>
